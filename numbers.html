<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade Calculation</title>
</head>
<body>
    <h1>Grade Calculation for CTU Students</h1>
    
    <p><strong>Midterm Grade:</strong> <span id="midtermGrade"></span></p>
    <p><strong>Tentative Final Grade:</strong> <span id="tentativeFinalGrade"></span></p>
    <p><strong>Final-Final Grade:</strong> <span id="finalFinalGrade"></span></p>

    <a href="javascript:void(0);" onclick="closeAndGoBack()">Back to Main Page</a>

    <script>
        // Data for Midterm Grades
        const midtermQuizzes = [1.5, 2.0, 1.76];
        const midtermProjects = [1.3, 2.0];
        const midtermExam = 1.79;

        // Data for Tentative Final Grades
        const finalQuizzes = [1.8, 2.0, 1.75];
        const finalProjects = [1.3, 1.0];
        const finalExam = 1.5;

        // Function to calculate grade for a period (midterm, tentative final)
        function calculateGrade(quizzes, projects, exam) {
            const averageQuiz = quizzes.reduce((a, b) => a + b) / quizzes.length;
            const averageProject = projects.reduce((a, b) => a + b) / projects.length;
            // Apply the formula: grade = averageQuiz * 30% + averageProject * 20% + exam * 50%
            const grade = (averageQuiz * 0.30) + (averageProject * 0.20) + (exam * 0.50);
            return grade.toFixed(2);  // Round to 2 decimal points
        }

        // Calculate Midterm Grade
        const midtermGrade = calculateGrade(midtermQuizzes, midtermProjects, midtermExam);
        
        // Calculate Tentative Final Grade
        const tentativeFinalGrade = calculateGrade(finalQuizzes, finalProjects, finalExam);
        
        // Calculate Final-Final Grade (average of Midterm and Tentative Final)
        const finalFinalGrade = ((parseFloat(midtermGrade) + parseFloat(tentativeFinalGrade)) / 2).toFixed(2);

        // Display the grades
        document.getElementById("midtermGrade").textContent = midtermGrade;
        document.getElementById("tentativeFinalGrade").textContent = tentativeFinalGrade;
        document.getElementById("finalFinalGrade").textContent = finalFinalGrade;

        function closeAndGoBack() {
            window.close();
            window.location.href = "index.html"; // Replace with your actual main page
        }
    </script>
</body>
</html>

